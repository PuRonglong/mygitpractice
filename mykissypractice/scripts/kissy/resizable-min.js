/*
Copyright 2011, KISSY UI Library v1.20
MIT Licensed
build time: Nov 28 12:39
*/
KISSY.add("resizable/base",function(p,i,u,n){function q(a){a=a.newVal;var d=this.dds,e=this.get("node");this.destroy();for(b=0;b<a.length;b++){var c=a[b],f=r("<div class='"+s+" "+s+"-"+c+"'></div>").prependTo(e);c=d[c]=new v({node:f,cursor:null});c.on("drag",w,this);c.on("dragstart",x,this)}}function x(){var a=this.get("node");this._width=a.width();this._top=parseInt(a.css("top"));this._left=parseInt(a.css("left"));this._height=a.height()}function w(a){var d=this.get("node"),e=a.target,c;a:{c=this.dds;
for(var f in c)if(c[f]==e){c=f;break a}c=0}f=this._width;var k=this._height,g=this.get("minWidth"),h=this.get("maxWidth"),j=this.get("minHeight"),l=this.get("maxHeight");a=m[c](g,h,j,l,this._top,this._left,f,k,a.top-e.startNodePos.top,a.left-e.startNodePos.left);e=["width","height","top","left"];for(b=0;b<e.length;b++)a[b]&&d.css(e[b],a[b])}function o(){var a;o.superclass.constructor.apply(this,arguments);this.on("afterHanldersChange",q,this);a=this.get("node");this.dds={};a.css("position")=="static"&&
a.css("position","relative");q.call(this,{newVal:this.get("handlers")})}var r=i.all,b,v=n.Draggable,s="ks-resizable-handler";n=["l","r"];var t=["t","b"],m={t:function(a,d,e,c,f,k,g,h,j){a=Math.min(Math.max(e,h-j),c);return[0,a,f+h-a,0]},b:function(a,d,e,c,f,k,g,h,j){return[0,Math.min(Math.max(e,h+j),c),0,0]},r:function(a,d,e,c,f,k,g,h,j,l){return[Math.min(Math.max(a,g+l),d),0,0,0]},l:function(a,d,e,c,f,k,g,h,j,l){a=Math.min(Math.max(a,g-l),d);return[a,0,0,k+g-a]}};for(b=0;b<n.length;b++)for(i=0;i<
t.length;i++)(function(a,d){m[a+d]=m[d+a]=function(){var e=m[a].apply(this,arguments),c=m[d].apply(this,arguments),f=[];for(b=0;b<e.length;b++)f[b]=e[b]||c[b];return f}})(n[b],t[i]);p.extend(o,u,{destroy:function(){var a=this.dds,d;for(d in a)if(a.hasOwnProperty(d)){a[d].destroy();a[d].get("node").remove();delete a[d]}}},{ATTRS:{node:{setter:function(a){return r(a)}},minWidth:{value:0},minHeight:{value:0},maxWidth:{value:Number.MAX_VALUE},maxHeight:{value:Number.MAX_VALUE},handlers:{value:[]}}});
return o},{requires:["node","base","dd"]});KISSY.add("resizable",function(p,i){return i},{requires:["resizable/base"]});
