KISSY.Editor.add("color",function(c){c.addPlugin("color",function(){var b=KISSY.Editor,e=c.cfg.pluginConfig,d=[];false!==e.forecolor&&function(){var a=c.addButton("color",{styles:{element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}],childRule:function(f){return!(f._4e_name()=="a"||f.all("a").length)}},mode:b.WYSIWYG_MODE,title:"\u6587\u672c\u989c\u8272",loading:true,contentCls:"ke-toolbar-color"});b.use("colorsupport",function(){a.reload(b.ColorSupport)});d.push(function(){a.destroy()})}();
false!==e.bgcolor&&function(){var a=c.addButton("bgcolor",{styles:{element:"span",styles:{"background-color":"#(color)"},overrides:[{element:"*",styles:{"background-color":null}}],childRule:function(){return false}},title:"\u80cc\u666f\u989c\u8272",mode:b.WYSIWYG_MODE,loading:true,contentCls:"ke-toolbar-bgcolor"});b.use("colorsupport",function(){a.reload(b.ColorSupport)});d.push(function(){a.destroy()})}();this.destroy=function(){for(var a=0;a<d.length;a++)d[a]()}})},{attach:false});
