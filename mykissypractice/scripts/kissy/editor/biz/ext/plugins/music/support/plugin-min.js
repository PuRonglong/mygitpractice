KISSY.Editor.add("xiami-music/support",function(){function f(a){f.superclass.constructor.apply(this,arguments);a.cfg.disableObjectResizing||i.on(a.document.body,j.ie?"resizestart":"resize",function(b){(new d.Node(b.target)).hasClass(e)&&b.preventDefault()})}function g(a){return a._4e_name()==="img"&&!!a.hasClass(e)&&a}var d=KISSY,j=d.UA,e="ke_xiami",i=d.Event,c=d.Editor;d.extend(f,c.Flash,{_config:function(){this._cls=e;this._type="xiami-music";this._contextMenu=k;this._flashRules=["img."+e]},_updateTip:function(a,
b){var h=this.editor.restoreRealElement(b);if(h){a.html(b.attr("title"));a.attr("href",this._getFlashUrl(h))}}});var k={"\u867e\u7c73\u5c5e\u6027":function(a){var b=a.editor.getSelection();b=b&&b.getStartElement();(b=g(b))&&a.show(null,b)}};c.Flash.registerBubble("xiami-music","\u5728\u65b0\u7a97\u53e3\u67e5\u770b",g);c.XiamiMusic=f;c.add({"xiami-music/dialog":{attach:false,charset:"utf-8",fullpath:c.Utils.debugUrl("../biz/ext/plugins/music/dialog/plugin.js")}});c.add({"xiami-music/dialog/support":{attach:false,charset:"utf-8",requires:["flash/dialog/support"],
fullpath:c.Utils.debugUrl("../biz/ext/plugins/music/dialog/support/plugin.js")}})},{attach:false,requires:["flash/support"]});
